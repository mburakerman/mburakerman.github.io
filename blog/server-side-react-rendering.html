<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="theme-color" content="#3C4556" />

    <link rel="icon" type="image/png" href="/img/favicon.png" />

    <title>Server Side React Rendering</title>

    <meta
      name="google-site-verification"
      content="Y9rbVPxXYY8HNwYGvnqNGNC1Gku8Rp5Sn5F0eK7gl2Q"
    />

    <meta name="title" content="Server Side React Rendering" />
    <meta
      name="description"
      content="Server Side Rendering in React using Express and Parcel"
    />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://mburakerman.github.io/blog/web-rendering-patterns"
    />
    <meta property="og:title" content="Server Side React Rendering" />
    <meta
      property="og:description"
      content="Server Side Rendering in React using Express and Parcel"
    />
    <meta
      property="og:image"
      content="https://mburakerman.github.io/img/server-side-react-rendering/server-side-react-rendering.png"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://mburakerman.github.io/blog/server-side-react-rendering"
    />
    <meta property="twitter:title" content="Server Side React Rendering" />
    <meta
      property="twitter:description"
      content="Server Side Rendering in React using Express and Parcel"
    />
    <meta
      property="twitter:image"
      content="https://mburakerman.github.io/img/server-side-react-rendering/server-side-react-rendering.png"
    />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-75826567-5"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-75826567-5");
    </script>

    <!-- Yandex.Metrika counter -->
    <script>
      (function (m, e, t, r, i, k, a) {
        m[i] =
          m[i] ||
          function () {
            (m[i].a = m[i].a || []).push(arguments);
          };
        m[i].l = 1 * new Date();
        (k = e.createElement(t)),
          (a = e.getElementsByTagName(t)[0]),
          (k.async = 1),
          (k.src = r),
          a.parentNode.insertBefore(k, a);
      })(
        window,
        document,
        "script",
        "https://mc.yandex.ru/metrika/tag.js",
        "ym"
      );

      ym(49327489, "init", {
        clickmap: true,
        trackLinks: true,
        accurateTrackBounce: true,
        webvisor: true,
      });
    </script>

    <link rel="stylesheet" href="/css/main.css?v=2.27" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/gist-syntax-themes@1.1.0/stylesheets/cobalt.css"
    />
    <style>
      .gist-container {
        position: relative;
        width: 100%;
        height: 0;
        padding-bottom: 56.25%; /* 16:9 aspect ratio */
      }
      .gist-container .gist {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
      .gist .gist-meta {
        display: none !important;
      }
      .gist .pl-s .pl-s1 {
        color: #ddd !important;
      }
    </style>
  </head>
  <body>
    <article class="blog-article">
      <h1>Server Side React Rendering</h1>
      <p><time>🗓️ 19 Nov 2022</time></p>

      <br />
      <p>
        In order to understand server-side rendering in React, i created the
        most basic example using <strong>Express</strong>,
        <strong>Babel</strong> and <strong>Parcel</strong>.
      </p>
      <br />
      <p>Let's get started.</p>

      <br />
      <p>Our app's structure is going to be like this:</p>
      <br />
      <pre>
react-ssr-example/
├─ src/
│  ├─ app.jsx
├─ client.js
├─ server.js
├─ package.json
      </pre>

      <p>
        At first, we are going to download the <code>react</code>,
        <code>react-dom</code>, <code>express</code>, <code>parcel</code> and
        <code>nodemon</code> packages.
      </p>

      <br />
      <p>
        We also need to install <code>@babel/preset-react</code> to support
        <code>.jsx</code> on Node and <code>@babel/register</code> to compile
        <code>.jsx</code> on runtime since <code>.jsx</code> files are not
        natively supported by Node.
      </p>

      <br />
      <br />

      <p>
        <code>client.js</code> has <code>react</code> imported and we hydrate
        #root element where we render our app.
      </p>
      <p>
        <code>hydrateRoot</code> lets you display React components inside a
        browser DOM node whose HTML content was previously generated by
        <code>react-dom/server</code>.
      </p>
      <br />
      <p>
        <code>server.js</code> now has a Babel config file at the top. The rest
        is a basic Express app.
      </p>
      <p>
        <code>createElement</code> creates react element from component.
        <br />
        <code>renderToString</code> renders react component to HTML string for
        client.
      </p>

      <br />
      <br />

      <p>
        Finally, you can run <code>npm run build</code> and then
        <code>npm start</code> and have a React SSR App up and running! 🚀
      </p>

      <br />
      <div class="gist-container">
        <script src="https://gist.github.com/mburakerman/4e3e55e66ee0b2cf513d79670b140741.js"></script>
      </div>
    </article>
  </body>
</html>
